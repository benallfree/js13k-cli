<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>MMO Canvas Painter</title>
  </head>
  <body>
    <div class="controls">
      <label for="colorPicker">Color:</label>
      <input type="color" id="colorPicker" value="#000000" />
      <label for="radiusSlider">Size:</label>
      <input type="range" id="radiusSlider" min="1" max="60" step="1" value="5" />
      <span id="radiusValue">5</span>
      <button id="openSvgModalBtn" title="Insert SVG" aria-label="Insert SVG" style="margin-left: 8px">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
          <rect x="3" y="5" width="18" height="14" rx="2" ry="2" fill="none" stroke="currentColor" stroke-width="2" />
          <circle cx="9" cy="11" r="2" fill="none" stroke="currentColor" stroke-width="2" />
          <path
            d="M21 17l-5-5l-4 4l-2-2l-5 5"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
          />
        </svg>
      </button>
      <span id="connectionStatus">Connecting...</span>
    </div>
    <canvas id="canvas" width="800" height="600"></canvas>
    <div
      id="svgModal"
      style="
        display: none;
        position: fixed;
        inset: 0;
        background: rgba(0, 0, 0, 0.5);
        align-items: center;
        justify-content: center;
        z-index: 1000;
      "
    >
      <div style="background: white; padding: 12px; max-width: 90vw; max-height: 90vh; overflow: auto">
        <div style="display: flex; gap: 12px; flex-wrap: wrap">
          <textarea id="svgInput" rows="10" cols="60" placeholder="<svg ...>...</svg>"></textarea>
          <div style="display: flex; flex-direction: column; gap: 8px; align-items: center">
            <canvas
              id="svgPreviewCanvas"
              width="400"
              height="300"
              style="border: 1px solid #ccc; background: #f9f9f9"
            ></canvas>
            <div style="display: flex; gap: 8px">
              <button id="svgInsertBtn">Insert</button>
              <button id="svgCancelBtn">Cancel</button>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div id="syncOverlay">
      <div class="overlay-content">searching for other players</div>
    </div>
    <div class="status">
      <div>Click and drag to paint pixels</div>
      <div>All painters are connected in real-time</div>
    </div>
    <script type="module" src="./src/index.ts"></script>
  </body>
</html>
